<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href='https://fonts.googleapis.com/css?family=Abril Fatface' rel='stylesheet'>
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
    <script src="bjack.js"></script>
    <style>
       
    </style>
</head>

<body>
    <div class="container" style="margin: 20px auto; width: 400px; text-align: center;background-color: #09912E;padding: 30px;">
        <h1>Blackjack</h1>
        <p id="message-el">Want to play a round?</p>
        <p id="cards-el">Cards:</p>
        <p id="sum-el">Sum:</p>
     <button class="btn  btn-warning" style="color: #106B3C; width: 200px;margin-bottom: 5px;" onclick="startGame()">Start the Game!</button><br>
      <button class="btn btn-warning" style="color: #106B3C; width: 200px;" onclick="newCard()">New Card!</button>
     
     <br> <p id="player-el" style="margin-top: 15px;"></p>
    </div>
     
    <script>
        
        
        let cards = []
        let hasBlackJack = false
        let sum =0
        let isAlive = false
        let message =''
        let messageEl = document.getElementById('message-el')
        let sumEl = document.getElementById('sum-el')
        let cardsEl = document.getElementById('cards-el')
        
        let player = {
            name:'Mani',
            chips:149
        } 
        let playerEl = document.getElementById('player-el')
          playerEl.textContent = player.name + ':$'+player.chips
        function getRandomCard(){
          let randomNumber = Math.floor(Math.random() * 13) + 1
            if (randomNumber > 10 ) {
                return 10
            }else if (randomNumber ===1){
                return 11
            }else {
                return randomNumber
            }
        }    

        function startGame() {
            isAlive =true
            let firstCard = getRandomCard()
            let secondCard = getRandomCard()
            cards = [firstCard , secondCard]
            sum = firstCard + secondCard
            renderGame()
        }
        function renderGame() {
            cardsEl.textContent = 'Cards: ' 
            for (let i = 0; i < cards.length; i++){
                cardsEl.textContent += cards[i] + " "
            }
            sumEl.textContent = 'Sum: ' + sum
        if(sum < 21){
            message = "Do you like to draw a new card?"
            
        }else if(sum === 21) {
            message="you'v got blackjack!"
          
            hasBlackJack = true

        }else if (sum > 21) {
            message = "You're out of the Game!"
            isAlive = false
        }
       messageEl.textContent = message
        
    }
    function newCard() {
        if(isAlive === true && hasBlackJack === false ){
         // 1. create a car variable and hard code its value toa number between (2-11)  
          let card = getRandomCard()
       
         //2. add the new card to the sum variable.
           sum +=card 
           cards.push(card)
       
         //3.call renderGame function
           renderGame()
        }
      
    }
    
    </script>
</body>
</html>